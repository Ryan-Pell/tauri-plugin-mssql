{"version":3,"file":"index.js","sources":["../node_modules/@tauri-apps/api/chunk-FEIY7W7S.js","../node_modules/@tauri-apps/api/chunk-RCPA6UVN.js","../js-guest/index.ts"],"sourcesContent":["var d=Object.defineProperty;var e=(c,a)=>{for(var b in a)d(c,b,{get:a[b],enumerable:!0})};export{e as a};\n","import{a as d}from\"./chunk-FEIY7W7S.js\";var f={};d(f,{convertFileSrc:()=>w,invoke:()=>c,transformCallback:()=>s});function u(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function s(e,r=!1){let n=u(),t=`_${n}`;return Object.defineProperty(window,t,{value:o=>(r&&Reflect.deleteProperty(window,t),e==null?void 0:e(o)),writable:!1,configurable:!0}),n}async function c(e,r={}){return new Promise((n,t)=>{let o=s(i=>{n(i),Reflect.deleteProperty(window,`_${a}`)},!0),a=s(i=>{t(i),Reflect.deleteProperty(window,`_${o}`)},!0);window.__TAURI_IPC__({cmd:e,callback:o,error:a,...r})})}function w(e,r=\"asset\"){let n=encodeURIComponent(e);return navigator.userAgent.includes(\"Windows\")?`https://${r}.localhost/${n}`:`${r}://localhost/${n}`}export{s as a,c as b,w as c,f as d};\n","import { invoke } from '@tauri-apps/api/tauri'\r\n\r\n/**\r\n * \r\n * @param {string} query This is the query that the server will run and return the data.\r\n * @param {string} connection This is a optional connection string that you can use to connect to another database that is not the default. The default is the one that is defined within the Tauri setup. The string should be used as as a JDBC string (starting with jdbc:sqlserver://...), or a .NET string (e.g, Data Source=myServerName\\myInstance;Database=myDatabase;Integrated Security=false;User ID=sa;Password=<password>;Encrypt=true;TrustServerCertificate=true;). \r\n * @returns {Promise<{raw: string, json: void}>} This will return a object with the raw string from the database query and a json function to get a parsed version of the query.\r\n */\r\nexport async function query (query: string, connection?: string) {\r\n  let options = {tsql: query} as { tsql: string, connection?: string}\r\n\r\n  if(connection){ options = { ...options, connection } } //add connection string to options\r\n\r\n  let returns: string = await invoke('plugin:mssql|query', options);\r\n  return {\r\n    raw: returns,\r\n    json: () => JSON.parse(returns)\r\n  }\r\n}\r\n\r\nexport async function defaultConnectionString () {\r\n\r\n}"],"names":["d","Object","defineProperty","s","e","r","n","window","crypto","getRandomValues","Uint32Array","t","value","o","Reflect","deleteProperty","writable","configurable","async","c","Promise","i","a","__TAURI_IPC__","cmd","callback","error","w","encodeURIComponent","navigator","userAgent","includes","query","connection","options","tsql","returns","invoke","raw","json","JSON","parse","defaultConnectionString","b","get","enumerable","convertFileSrc","transformCallback"],"mappings":"AAAA,IAAIA,EAAEC,OAAOC,eCA8K,SAASC,EAAEC,EAAEC,GAAE,GAAI,IAAIC,EAA5EC,OAAOC,OAAOC,gBAAgB,IAAIC,YAAY,IAAI,GAAgCC,EAAE,IAAIL,IAAI,OAAOL,OAAOC,eAAeK,OAAOI,EAAE,CAACC,MAAMC,IAAIR,GAAGS,QAAQC,eAAeR,OAAOI,GAAM,MAAHP,OAAQ,EAAOA,EAAES,IAAIG,UAAS,EAAGC,cAAa,IAAKX,CAAC,CAACY,eAAeC,EAAEf,EAAEC,EAAE,CAAE,GAAE,OAAO,IAAIe,SAAQ,CAACd,EAAEK,KAAK,IAAIE,EAAEV,GAAEkB,IAAIf,EAAEe,GAAGP,QAAQC,eAAeR,OAAO,IAAIe,IAAG,IAAG,GAAIA,EAAEnB,GAAEkB,IAAIV,EAAEU,GAAGP,QAAQC,eAAeR,OAAO,IAAIM,IAAI,IAAE,GAAIN,OAAOgB,cAAc,CAACC,IAAIpB,EAAEqB,SAASZ,EAAEa,MAAMJ,KAAKjB,GAAE,GAAG,CAAC,SAASsB,EAAEvB,EAAEC,EAAE,SAAS,IAAIC,EAAEsB,mBAAmBxB,GAAG,OAAOyB,UAAUC,UAAUC,SAAS,WAAW,WAAW1B,eAAeC,IAAI,GAAGD,iBAAiBC,GAAG,CCQ/tBY,eAAec,EAAOA,EAAeC,GAC1C,IAAIC,EAAU,CAACC,KAAMH,GAElBC,IAAaC,EAAU,IAAKA,EAASD,eAExC,IAAIG,QAAwBC,EAAO,qBAAsBH,GACzD,MAAO,CACLI,IAAKF,EACLG,KAAM,IAAMC,KAAKC,MAAML,GAE3B,CAEOlB,eAAewB,IAEtB,CFtBkC,EAACvB,EAAEG,KAAK,IAAI,IAAIqB,KAAKrB,EAAEtB,EAAEmB,EAAEwB,EAAE,CAACC,IAAItB,EAAEqB,GAAGE,YAAW,KCAnC7C,CAAH,CAAE,EAAK,CAAC8C,eAAe,IAAInB,EAAEU,OAAO,IAAIlB,EAAE4B,kBAAkB,IAAI5C"}